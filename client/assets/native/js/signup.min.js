$(document).ready(function(){function e(){var e={};return e.name=$("#form-company-name").val(),e.email=$("#form-email").val(),e.phone_number=$("#form-phone").val(),e}function o(){var e={};return e.first_name=$("#form-employee-first").val(),e.last_name=$("#form-employee-last").val(),e.email=$("#form-employee-email").val(),e.password=$("#form-password").val(),e.phone_number=$("#form-employee-phone").val(),e.role="c_admin",e.company_id=r,e}function a(e,o){$.ajax({type:"POST",url:e,data:o,dataType:"json",success:function(o){"/api/employees"===e?(localStorage.setItem("userState",1),localStorage.setItem("currentUser",JSON.stringify(o)),location.href="/visitors.html"):"/api/companies"===e&&(localStorage.setItem("currentCompany",JSON.stringify(o)),r=o._id)},error:function(e){event.preventDefault(),location.href="/signup.html"}})}function n(){var e=!0;e&&$("#company-reg-form").fadeOut(400,function(){$("#employee-reg-form").find("fieldset:first-child").fadeIn()})}var r,t;$("#submit-btn").on("click",function(){t="employee"}),$("#submit-company-btn").on("click",function(){t="company"}),$("#company-reg-form").on("submit",function(o){var r=e();return console.log(r),a("/api/companies",r),n(),!1}),$("#employee-reg-form").on("submit",function(e){var n=o();return console.log(n),a("/api/employees",n),!1}),$("#form-password, #form-repeat-password").on("keyup",function(){var e=$("#form-repeat-password")[0];$("#form-password").val()!==$("#form-repeat-password").val()?e.setCustomValidity("Passwords do not match!"):e.setCustomValidity("")})});