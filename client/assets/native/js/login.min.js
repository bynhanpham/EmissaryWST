function ajaxPostUser(e,a){$.ajax({type:"POST",url:e,data:a,dataType:"json",success:function(e){console.log(e),"a_admin"===e.role?(localStorage.setItem("userState",2),location.href="/admin-dashboard.html"):(localStorage.setItem("userState",1),localStorage.setItem("currentUser",JSON.stringify(e)),ajaxGetCompanyInfo("/api/companies/"+e.company_id),location.href="/visitors.html")},error:function(){window.onerror=handleError(),event.preventDefault()}})}function ajaxGetCompanyInfo(e){$.ajax({type:"GET",url:e,data:$("#response").serialize(),async:!1,dataType:"json",success:function(e){console.log(e),localStorage.setItem("currentCompany",JSON.stringify(e))}})}function grabUserData(){var e={};return e.email=$("#username").val(),e.password=$("#password").val(),e}function handleError(){return errorlog.innerHTML="Not Valid Username and Password, please type valid one.",!0}$(function(){$("#loginButton").click(function(){var e=grabUserData();event.preventDefault(),ajaxPostUser("/api/employees/login",e)})}),$(function(){$("#logoutButton").click(function(){localStorage.removeItem("userState"),localStorage.removeItem("currentUser"),localStorage.removeItem("currentCompany")})});