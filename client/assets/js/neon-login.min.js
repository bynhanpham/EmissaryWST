var neonLogin=neonLogin||{};!function(n,o,e){"use strict";n(document).ready(function(){neonLogin.$container=n("#form_login"),neonLogin.$container.validate({rules:{username:{required:!0},password:{required:!0}},highlight:function(o){n(o).closest(".input-group").addClass("validate-has-error")},unhighlight:function(o){n(o).closest(".input-group").removeClass("validate-has-error")},submitHandler:function(e){n(".login-page").addClass("logging-in"),n(".form-login-error").slideUp("fast"),setTimeout(function(){var n=25+Math.round(30*Math.random());neonLogin.setPercentage(40+n)},650),o.location.href="/visitors.html"}});var e=n(".login-page").hasClass("is-lockscreen");if(e&&(neonLogin.$container=n("#form_lockscreen"),neonLogin.$ls_thumb=neonLogin.$container.find(".lockscreen-thumb"),neonLogin.$container.validate({rules:{password:{required:!0}},highlight:function(o){n(o).closest(".input-group").addClass("validate-has-error")},unhighlight:function(o){n(o).closest(".input-group").removeClass("validate-has-error")},submitHandler:function(o){n(".login-page").addClass("logging-in-lockscreen"),setTimeout(function(){var n=25+Math.round(30*Math.random());neonLogin.setPercentage(n,function(){setTimeout(function(){neonLogin.setPercentage(100,function(){setTimeout("window.location.href = '../../'",600)},2)},820)})},650)}})),neonLogin.$body=n(".login-page"),neonLogin.$login_progressbar_indicator=n(".login-progressbar-indicator h3"),neonLogin.$login_progressbar=neonLogin.$body.find(".login-progressbar div"),neonLogin.$login_progressbar_indicator.html("0%"),neonLogin.$body.hasClass("login-form-fall")){var i=!1;setTimeout(function(){neonLogin.$body.addClass("login-form-fall-init"),setTimeout(function(){i||(neonLogin.$container.find("input:first").focus(),i=!0)},550)},0)}else neonLogin.$container.find("input:first").focus();if(neonLogin.$container.find(".form-control").each(function(o,e){var i=n(e),r=i.closest(".input-group");i.prev(".input-group-addon").click(function(){i.focus()}),i.on({focus:function(){r.addClass("focused")},blur:function(){r.removeClass("focused")}})}),n.extend(neonLogin,{setPercentage:function(n,o){if(n=parseInt(n/100*100,10)+"%",e){neonLogin.$lockscreen_progress_indicator.html(n);var i={pct:u};return void TweenMax.to(i,.7,{pct:parseInt(n,10),roundProps:["pct"],ease:Sine.easeOut,onUpdate:function(){neonLogin.$lockscreen_progress_indicator.html(i.pct+"%"),p(parseInt(i.pct,10)/100)},onComplete:o})}neonLogin.$login_progressbar_indicator.html(n),neonLogin.$login_progressbar.width(n);var i={pct:parseInt(neonLogin.$login_progressbar.width()/neonLogin.$login_progressbar.parent().width()*100,10)};TweenMax.to(i,.7,{pct:parseInt(n,10),roundProps:["pct"],ease:Sine.easeOut,onUpdate:function(){neonLogin.$login_progressbar_indicator.html(i.pct+"%")},onComplete:o})},resetProgressBar:function(o){TweenMax.set(neonLogin.$container,{css:{opacity:0}}),setTimeout(function(){if(TweenMax.to(neonLogin.$container,.6,{css:{opacity:1},onComplete:function(){neonLogin.$container.attr("style","")}}),neonLogin.$login_progressbar_indicator.html("0%"),neonLogin.$login_progressbar.width(0),o){var e=n(".form-login-error");e.show();var i=e.outerHeight();e.css({height:0}),TweenMax.to(e,.45,{css:{height:i},onComplete:function(){e.css({height:"auto"})}}),neonLogin.$container.find('input[type="password"]').val("")}},800)}}),e){neonLogin.$lockscreen_progress_canvas=n("<canvas></canvas>"),neonLogin.$lockscreen_progress_indicator=neonLogin.$container.find(".lockscreen-progress-indicator"),neonLogin.$lockscreen_progress_canvas.appendTo(neonLogin.$ls_thumb);var r=3,t=neonLogin.$ls_thumb.width()+r;neonLogin.$lockscreen_progress_canvas.attr({width:t,height:t}).css({top:-r/2,left:-r/2}),neonLogin.lockscreen_progress_canvas=neonLogin.$lockscreen_progress_canvas.get(0);var s=neonLogin.lockscreen_progress_canvas,a=s.getContext("2d"),c=null,g=2*Math.PI,l=Math.PI/2,u=0;a.beginPath(),a.strokeStyle="#eb7067",a.lineCap="square",a.closePath(),a.fill(),a.lineWidth=r,c=a.getImageData(0,0,t,t);var p=function(n){a.putImageData(c,0,0),a.beginPath(),a.arc(t/2,t/2,70,-l,g*n-l,!1),a.stroke(),u=100*n};p(0),neonLogin.$lockscreen_progress_indicator.html("0%"),a.restore()}})}(jQuery,window);